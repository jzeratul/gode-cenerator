CREATE SCHEMA IF NOT EXISTS `samples` DEFAULT CHARACTER SET utf8mb4 ;

CREATE TABLE IF NOT EXISTS `samples`.`SAMPLE_PARENT` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `CREATED_AT` DATETIME NULL,
  `UPDATED_AT` DATETIME NULL,
  `UUID` BINARY(36) NOT NULL,
  `ACTIVE` TINYINT NOT NULL,
  `STATUS` VARCHAR(20) NULL,
  `FIRSTNAME` VARCHAR(60) NOT NULL,
  `LASTNAME` VARCHAR(60) NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE INDEX `UUID_UNIQUE` (`UUID` ASC) VISIBLE,
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC) VISIBLE);

CREATE TABLE IF NOT EXISTS `samples`.`SAMPLE` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `CREATED_AT` DATETIME NULL,
  `UPDATED_AT` DATETIME NULL,
  `UUID` BINARY(36) NOT NULL,
  `ACTIVE` TINYINT NOT NULL,
  `STATUS` VARCHAR(20) NULL,
  `FIRSTNAME` VARCHAR(60) NOT NULL,
  `LASTNAME` VARCHAR(60) NOT NULL,
  `SAMPLE_PARENT_ID` BIGINT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE INDEX `UUID_UNIQUE` (`UUID` ASC) VISIBLE,
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC) VISIBLE,
  INDEX `fk_SAMPLES_SAMPLE_PARENT_idx` (`SAMPLE_PARENT_ID` ASC) VISIBLE,
  CONSTRAINT `fk_SAMPLES_SAMPLE_PARENT`
    FOREIGN KEY (`SAMPLE_PARENT_ID`)
    REFERENCES `samples`.`SAMPLE_PARENT` (`ID`));

